<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8">
<title>Mappa Waldseem√ºller 1507</title>

<!-- Bootstrap 5 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"/>

<style>
  html, body { height: 100%; margin: 0; }
  #map-storica { width: 1200px; height: 700px; margin: 0 auto; }
</style>
</head>
<body>
<div id="map-storica"></div>

<!-- JS: Bootstrap bundle (include Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- JS: Leaflet -->
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
<script src="leaflet-iiif.js"></script>

<script>
var scale = 20;

// Icone
var redIcon = L.icon({
    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',
    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',
    iconSize: [25, 41],
    iconAnchor: [12, 41],
    popupAnchor: [1, -34],
    shadowSize: [41, 41]
});

var mapStorica = L.map('map-storica', {
    crs: L.CRS.Simple,
    minZoom: 0,
    maxZoom: 8
});

// IIIF Layer
var iiif_url = "https://tile.loc.gov/image-services/iiif/service:gmd:gmd3:g3200:g3200:ct000725C/info.json";
var iiifLayer = L.tileLayer.iiif(iiif_url, {
    attribution: '&copy; Library of Congress',
    noWrap: true
}).addTo(mapStorica);

fetch(iiif_url)
  .then(res => res.json())
  .then(manifest => {
    const w = manifest.width;
    const h = manifest.height;
    mapStorica.fitBounds([[0,0],[h/scale, w/scale]]);
});

// ------------ DATI (il tuo grande array) -------------
var punti = [
  {
    "x": 2074.0,
    "y": 1338.0,
    "luogo": "Alpi / –ê–ª—å–ø—ã",
    "pers": "-",
    "testi": "Ivanov 133",
    "reale": false
  },
  {
    "x": 2074.0,
    "y": 1338.0,
    "luogo": "Alpi / –ê–ª—å–ø—ã",
    "pers": "-",
    "testi": "Ivanov 137",
    "reale": false
  },
  {
    "x": 2074.0,
    "y": 1338.0,
    "luogo": "Alpi / –ê–ª—å–ø—ã",
    "pers": "-",
    "testi": "Ivanov 141",
    "reale": false
  },
  {
    "x": 2078.0,
    "y": 1391.0,
    "luogo": "Bologna / –ë–æ–ª–æ–Ω—å—è",
    "pers": "Antonio Cortesi Urceo, Codro / –ê–Ω—Ç–æ–Ω–∏–æ –£—Ä—á–µ–æ –ö–æ–¥—Ä–æ",
    "testi": "Ivanov 236",
    "reale": true
  },
  {
    "x": 1660.0,
    "y": 1368.0,
    "luogo": "Cadice / –ö–∞–¥–∏—Å",
    "pers": "-",
    "testi": "Ivanov 133",
    "reale": false
  },
  {
    "x": 1660.0,
    "y": 1368.0,
    "luogo": "Cadice / –ö–∞–¥–∏—Å",
    "pers": "-",
    "testi": "Ivanov 137",
    "reale": false
  },
  {
    "x": 1660.0,
    "y": 1368.0,
    "luogo": "Cadice / –ö–∞–¥–∏—Å",
    "pers": "-",
    "testi": "Ivanov 141",
    "reale": false
  },
  {
    "x": 1660.0,
    "y": 1368.0,
    "luogo": "Cadice / –ö–∞–¥–∏—Å",
    "pers": "navigatori portoghesi e spagnoli / –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–µ –∏ –∏—Å–ø–∞–Ω—Å–∫–∏–µ –º–æ—Ä–µ–ø–ª–∞–≤–∞—Ç–µ–ª–∏",
    "testi": "Ivanov 260+102",
    "reale": false
  },
  {
    "x": 1660.0,
    "y": 1368.0,
    "luogo": "Cadice / –ö–∞–¥–∏—Å",
    "pers": "navigatori portoghesi e spagnoli / –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–µ –∏ –∏—Å–ø–∞–Ω—Å–∫–∏–µ –º–æ—Ä–µ–ø–ª–∞–≤–∞—Ç–µ–ª–∏",
    "testi": "Ivanov 260+102",
    "reale": false
  },
  {
    "x": 1660.0,
    "y": 1368.0,
    "luogo": "Cadice / –ö–∞–¥–∏—Å",
    "pers": "navigatori portoghesi e spagnoli / –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–µ –∏ –∏—Å–ø–∞–Ω—Å–∫–∏–µ –º–æ—Ä–µ–ø–ª–∞–≤–∞—Ç–µ–ª–∏",
    "testi": "Ivanov 260+102",
    "reale": false
  },
  {
    "x": 1656.0,
    "y": 1373.0,
    "luogo": "Colonne d'Ercole / –ì–µ—Ä–∫—É–ª–µ—Å–æ–≤—ã —Å—Ç–æ–ª–±—ã",
    "pers": "navigatori portoghesi e spagnoli / –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–µ –∏ –∏—Å–ø–∞–Ω—Å–∫–∏–µ –º–æ—Ä–µ–ø–ª–∞–≤–∞—Ç–µ–ª–∏",
    "testi": "Ivanov 260+102",
    "reale": false
  },
  {
    "x": 2186.0,
    "y": 1535.0,
    "luogo": "Corf√π (Corcira) / –ö–æ—Ä—Ñ—É (–ö–µ—Ä–∫–∏—Ä–∞)",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "Ivanov 237",
    "reale": false
  },
  {
    "x": 2225.0,
    "y": 1539.0,
    "luogo": "Corone / –ö–æ—Ä–æ–Ω–∏",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "Ivanov 152",
    "reale": false
  },
  {
    "x": 2225.0,
    "y": 1539.0,
    "luogo": "Corone / –ö–æ—Ä–æ–Ω–∏",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "[Ivanov 152-a]",
    "reale": false
  },
  {
    "x": 2225.0,
    "y": 1539.0,
    "luogo": "Corone / –ö–æ—Ä–æ–Ω–∏",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "[Ivanov 152-b]",
    "reale": false
  },
  {
    "x": 864.0,
    "y": 1629.0,
    "luogo": "Cuba / –ö—É–±–∞",
    "pers": "navigatori portoghesi e spagnoli / –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–µ –∏ –∏—Å–ø–∞–Ω—Å–∫–∏–µ –º–æ—Ä–µ–ø–ª–∞–≤–∞—Ç–µ–ª–∏",
    "testi": "Ivanov 260(+102)",
    "reale": false
  },
  {
    "x": 2089.0,
    "y": 1390.0,
    "luogo": "Ferrara / –§–µ—Ä—Ä–∞—Ä–∞",
    "pers": "Niccol√≤ Lelio Cosmico / –ù–∏–∫–∫–æ–ª–æ –õ–µ–ª–∏–æ –ö–æ–∑–º–∏–∫–æ",
    "testi": "Ivanov 164",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Pietro Candido (da Portico)  / –ü—å–µ—Ç—Ä–æ –ö–∞–Ω–¥–∏–¥–æ",
    "testi": "Ivanov 239",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Pietro Candido (da Portico)  / –ü—å–µ—Ç—Ä–æ –ö–∞–Ω–¥–∏–¥–æ",
    "testi": "Ivanov 240",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Angelo Poliziano / –ê–Ω–¥–∂–µ–ª–æ –ü–æ–ª–∏—Ü–∏–∞–Ω–æ",
    "testi": "Ivanov 164",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Girolamo Savonarola / –ò–µ—Ä–æ–Ω–∏–º –°–∞–≤–æ–Ω–∞—Ä–æ–ª–∞",
    "testi": "Ivanov 229",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "frati domenicani / –º–æ–Ω–∞—Ö–∏-–¥–æ–º–∏–Ω–∏–∫–∞–Ω—Ü—ã",
    "testi": "Ivanov 229",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Giovacchino della Torre / –ò–æ–∞–∫–∏–º –¥–µ–ª–ª–∞ –¢–æ—Ä—Ä–µ",
    "testi": "Ivanov 229",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Giano Lascaris / ·º∏Œ±ŒΩ·Ω∏œÇ ŒõŒ¨œÉŒ∫Œ±œÅŒπœÇ / –ò–æ–∞–Ω–Ω –õ–∞—Å–∫–∞—Ä–∏—Å",
    "testi": "Maksim Grek 2008: 84 (nr. I.1)",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "-",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "-",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "-",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Giorgio Mosco / ŒìŒµœéœÅŒ≥ŒπŒøœÇ ŒúœåœÉœáŒøœÇ / –ì–µ–æ—Ä–≥–∏–π –ú–æ—Å—Ö (Speranzi 2010: 280, nota 94)",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Aristobulo Apostolio / ·ºàœÅœÉŒ≠ŒΩŒπŒøœÇ ·ºàœÄŒøœÉœÑœåŒªŒπŒøœÇ / –ê—Ä–∏—Å—Ç–æ–≤—É–ª –ê–ø–æ—Å—Ç–æ–ª–∏—Å (cfr. Speranzi 2013: 43-98)",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze / –§–ª–æ—Ä–µ–Ω—Ç–∏—è",
    "pers": "Marco Musuro / ŒúŒ¨œÅŒ∫ŒøœÇ ŒúŒøœÖœÉŒø·ø¶œÅŒøœÇ / –ú–∞—Ä–∫ –ú—É—Å—É—Ä–æ—Å (cfr. Speranzi 2013: 43-98)",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze, convento di San Marco / –§–ª–æ—Ä–µ–Ω—Ü–∏—è, –º–æ–Ω–∞—Å—Ç—ã—Ä—å –°–≤—è—Ç–æ–≥–æ –ú–∞—Ä–∫–∞",
    "pers": "Girolamo Savonarola / –ò–µ—Ä–æ–Ω–∏–º –°–∞–≤–æ–Ω–∞—Ä–æ–ª–∞",
    "testi": "Ivanov 229",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze, basilica di San Marco / —Ü–µ—Ä–∫–æ–≤—å –°–∞–Ω-–ú–∞—Ä–∫–æ",
    "pers": "Girolamo Savonarola / –ò–µ—Ä–æ–Ω–∏–º –°–∞–≤–æ–Ω–∞—Ä–æ–ª–∞",
    "testi": "Ivanov 229",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze, basilica di San Marco / —Ü–µ—Ä–∫–æ–≤—å –°–∞–Ω-–ú–∞—Ä–∫–æ",
    "pers": "Girolamo Savonarola / –ò–µ—Ä–æ–Ω–∏–º –°–∞–≤–æ–Ω–∞—Ä–æ–ª–∞",
    "testi": "Ivanov 229",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "Firenze, cattedrale di Santa Maria del Fiore / —Å–æ–±–æ—Ä –°–∞–Ω—Ç–∞-–ú–∞—Ä–∏—è-–¥–µ–ª—å-–§—å–æ—Ä–µ",
    "pers": "Girolamo Savonarola / –ò–µ—Ä–æ–Ω–∏–º –°–∞–≤–æ–Ω–∞—Ä–æ–ª–∞",
    "testi": "Ivanov 229",
    "reale": true
  },
  {
    "x": 1993.0,
    "y": 1313.0,
    "luogo": "Gallia / –ì–∞–ª–ª–∏—è",
    "pers": "Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "Ivanov 152",
    "reale": false
  },
  {
    "x": 1993.0,
    "y": 1313.0,
    "luogo": "Gallia / –ì–∞–ª–ª–∏—è",
    "pers": "Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "[Ivanov 152-a]",
    "reale": false
  },
  {
    "x": 1993.0,
    "y": 1313.0,
    "luogo": "Gallia / –ì–∞–ª–ª–∏—è",
    "pers": "Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "[Ivanov 152-b]",
    "reale": false
  },
  {
    "x": 1993.0,
    "y": 1313.0,
    "luogo": "Gallia / –ì–∞–ª–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 153",
    "reale": false
  },
  {
    "x": 1993.0,
    "y": 1313.0,
    "luogo": "Gallia / –ì–∞–ª–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 229",
    "reale": false
  },
  {
    "x": 2024.0,
    "y": 1272.0,
    "luogo": "Francia / –§—Ä–∞–Ω—Ü–∏—è",
    "pers": "-",
    "testi": "Ivanov 229",
    "reale": false
  },
  {
    "x": 2163.0,
    "y": 1272.0,
    "luogo": "Germania / –ì–µ—Ä–º–∞–Ω–∏—è",
    "pers": "Massimiliano I d'Asburgo / –ú–∞–∫—Å–∏–º–∏–ª–∏–∞–Ω I",
    "testi": "Ivanov 152",
    "reale": false
  },
  {
    "x": 2163.0,
    "y": 1272.0,
    "luogo": "Germania / –ì–µ—Ä–º–∞–Ω–∏—è",
    "pers": "Massimiliano I d'Asburgo / –ú–∞–∫—Å–∏–º–∏–ª–∏–∞–Ω I",
    "testi": "[Ivanov 152-a]",
    "reale": false
  },
  {
    "x": 2163.0,
    "y": 1272.0,
    "luogo": "Germania / –ì–µ—Ä–º–∞–Ω–∏—è",
    "pers": "Massimiliano I d'Asburgo / –ú–∞–∫—Å–∏–º–∏–ª–∏–∞–Ω I",
    "testi": "[Ivanov 152-b]",
    "reale": false
  },
  {
    "x": 1181.0,
    "y": 2160.0,
    "luogo": "Indie occidentali / –í–µ—Å—Ç-–ò–Ω–¥–∏—è",
    "pers": "navigatori portoghesi e spagnoli / –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–µ –∏ –∏—Å–ø–∞–Ω—Å–∫–∏–µ –º–æ—Ä–µ–ø–ª–∞–≤–∞—Ç–µ–ª–∏",
    "testi": "Ivanov 260(+102)",
    "reale": false
  },
  {
    "x": 4391.0,
    "y": 2396.0,
    "luogo": "Isole Molucche / –ú–æ–ª—É–∫–∫—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞",
    "pers": "navigatori portoghesi e spagnoli / –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–µ –∏ –∏—Å–ø–∞–Ω—Å–∫–∏–µ –º–æ—Ä–µ–ø–ª–∞–≤–∞—Ç–µ–ª–∏",
    "testi": "Ivanov 260(+102)",
    "reale": false
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 133",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 137",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 141",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "[Ivanov 152-a]",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "[Ivanov 152-a]",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "[Ivanov 152-a]",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "[Ivanov 152-b]",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "[Ivanov 152-b]",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "[Ivanov 152-b]",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 164",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 164",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 229",
    "reale": true
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Italia / –ò—Ç–∞–ª–∏—è",
    "pers": "-",
    "testi": "Ivanov 230",
    "reale": true
  },
  {
    "x": 2239.0,
    "y": 1551.0,
    "luogo": "Lepanto / –ù–∞–≤–ø–∞–∫—Ç",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "Ivanov 152",
    "reale": false
  },
  {
    "x": 2239.0,
    "y": 1551.0,
    "luogo": "Lepanto / –ù–∞–≤–ø–∞–∫—Ç",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "[Ivanov 152-a]",
    "reale": false
  },
  {
    "x": 2239.0,
    "y": 1551.0,
    "luogo": "Lepanto / –ù–∞–≤–ø–∞–∫—Ç",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "[Ivanov 152-b]",
    "reale": false
  },
  {
    "x": 2062.0,
    "y": 1371.0,
    "luogo": "Lombardia / –õ–æ–º–±–∞—Ä–¥–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2062.0,
    "y": 1371.0,
    "luogo": "Lombardia / –õ–æ–º–±–∞—Ä–¥–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2062.0,
    "y": 1371.0,
    "luogo": "Lombardia / –õ–æ–º–±–∞—Ä–¥–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2062.0,
    "y": 1371.0,
    "luogo": "Lombardia / –õ–æ–º–±–∞—Ä–¥–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2062.0,
    "y": 1371.0,
    "luogo": "Lombardia / –õ–æ–º–±–∞—Ä–¥–∏—è",
    "pers": "-",
    "testi": "[Ivanov 152-a]",
    "reale": true
  },
  {
    "x": 2062.0,
    "y": 1371.0,
    "luogo": "Lombardia / –õ–æ–º–±–∞—Ä–¥–∏—è",
    "pers": "-",
    "testi": "[Ivanov 152-b]",
    "reale": true
  },
  {
    "x": 2062.0,
    "y": 1371.0,
    "luogo": "Lombardia / –õ–æ–º–±–∞—Ä–¥–∏—è",
    "pers": "-",
    "testi": "Ivanov 164",
    "reale": true
  },
  {
    "x": 2051.0,
    "y": 1366.0,
    "luogo": "Milano / –ú–∏–ª–∞–Ω",
    "pers": "Ludovico Maria Sforza, il Moro / –õ–æ–¥–æ–≤–∏–∫–æ –ú–∞—Ä–∏—è –°—Ñ–æ—Ä—Ü–∞, Ambrogio da Rosate / –ê–º–≤—Ä–æ—Å–∏–π –†–æ–∑–∞–¥–µ, Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2051.0,
    "y": 1366.0,
    "luogo": "Milano / –ú–∏–ª–∞–Ω",
    "pers": "Ludovico Maria Sforza, il Moro / –õ–æ–¥–æ–≤–∏–∫–æ –ú–∞—Ä–∏—è –°—Ñ–æ—Ä—Ü–∞, Ambrogio da Rosate / –ê–º–≤—Ä–æ—Å–∏–π –†–æ–∑–∞–¥–µ, Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "[Ivanov 152-a]",
    "reale": true
  },
  {
    "x": 2051.0,
    "y": 1366.0,
    "luogo": "Milano / –ú–∏–ª–∞–Ω",
    "pers": "Ludovico Maria Sforza, il Moro / –õ–æ–¥–æ–≤–∏–∫–æ –ú–∞—Ä–∏—è –°—Ñ–æ—Ä—Ü–∞, Ambrogio da Rosate / –ê–º–≤—Ä–æ—Å–∏–π –†–æ–∑–∞–¥–µ, Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "[Ivanov 152-b]",
    "reale": true
  },
  {
    "x": 2077.0,
    "y": 1384.0,
    "luogo": "Mirandola / –ú–∏—Ä–∞–Ω–¥–æ–ª–∞",
    "pers": "Giovan Francesco Pico della Mirandola / –î–∂–∞–Ω—Ñ—Ä–∞–Ω—á–µ—Å–∫–æ –ü–∏–∫–æ –¥–µ–ª–ª–∞ –ú–∏—Ä–∞–Ω–¥–æ–ª–∞",
    "testi": "Ivanov 235",
    "reale": true
  },
  {
    "x": 2077.0,
    "y": 1384.0,
    "luogo": "Mirandola / –ú–∏—Ä–∞–Ω–¥–æ–ª–∞",
    "pers": "Giovan Francesco Pico della Mirandola / –î–∂–∞–Ω—Ñ—Ä–∞–Ω—á–µ—Å–∫–æ –ü–∏–∫–æ –¥–µ–ª–ª–∞ –ú–∏—Ä–∞–Ω–¥–æ–ª–∞",
    "testi": "Ivanov 235",
    "reale": true
  },
  {
    "x": 2077.0,
    "y": 1384.0,
    "luogo": "Mirandola / –ú–∏—Ä–∞–Ω–¥–æ–ª–∞",
    "pers": "-",
    "testi": "Ivanov 236",
    "reale": true
  },
  {
    "x": 2077.0,
    "y": 1384.0,
    "luogo": "Mirandola / –ú–∏—Ä–∞–Ω–¥–æ–ª–∞",
    "pers": "-",
    "testi": "Ivanov 237",
    "reale": true
  },
  {
    "x": 2077.0,
    "y": 1384.0,
    "luogo": "Mirandola / –ú–∏—Ä–∞–Ω–¥–æ–ª–∞",
    "pers": "Giovan Francesco Pico della Mirandola / –î–∂–∞–Ω—Ñ—Ä–∞–Ω—á–µ—Å–∫–æ –ü–∏–∫–æ –¥–µ–ª–ª–∞ –ú–∏—Ä–∞–Ω–¥–æ–ª–∞",
    "testi": "Ivanov 238",
    "reale": true
  },
  {
    "x": 2219.0,
    "y": 1604.0,
    "luogo": "Modone / –ú–µ—Ç–æ–Ω–∏",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "Ivanov 152",
    "reale": false
  },
  {
    "x": 2219.0,
    "y": 1604.0,
    "luogo": "Modone / –ú–µ—Ç–æ–Ω–∏",
    "pers": "Bayezid II / –ë–∞—è–∑–∏–¥ II",
    "testi": "[Ivanov 152-a]",
    "reale": false
  },
  {
    "x": 2219.0,
    "y": 1604.0,
    "luogo": "Modone / –ú–µ—Ç–æ–Ω–∏",
    "pers": "Bayezid II / –ë–∞—è–∑id II",
    "testi": "[Ivanov 152-b]",
    "reale": false
  },
  {
    "x": 2042.0,
    "y": 1368.0,
    "luogo": "Novara / –ù–æ–≤–∞—Ä–∞",
    "pers": "Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "Ivanov 152",
    "reale": false
  },
  {
    "x": 2042.0,
    "y": 1368.0,
    "luogo": "Novara / –ù–æ–≤–∞—Ä–∞",
    "pers": "Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "[Ivanov 152-a]",
    "reale": false
  },
  {
    "x": 2042.0,
    "y": 1368.0,
    "luogo": "Novara / –ù–æ–≤–∞—Ä–∞",
    "pers": "Luigi XII di Valois-Orl√©ans (Ludovico XII) / –õ—é–¥–æ–≤–∏–∫ XII",
    "testi": "[Ivanov 152-b]",
    "reale": false
  },
  {
    "x": 2076.0,
    "y": 1379.0,
    "luogo": "Padova / –ü–∞–¥—É—è",
    "pers": "Paolo / Œ†Œ±·ø¶ŒªŒøœÇ / –ü–∞–≤–µ–ª",
    "testi": "Ivanov 238",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1379.0,
    "luogo": "Padova / –ü–∞–¥—É—è",
    "pers": "Agostino Nifo / –ê–≥–æ—Å—Ç–∏–Ω–æ –ù–∏—Ñ–æ –°–µ—Å—Å–∞",
    "testi": "Ivanov 164",
    "reale": true
  },
  {
    "x": 2008.0,
    "y": 1277.0,
    "luogo": "Parigi / –ü–∞—Ä–∏–∂",
    "pers": "-",
    "testi": "Ivanov 229",
    "reale": false
  },
  {
    "x": 2008.0,
    "y": 1277.0,
    "luogo": "Parigi / –ü–∞—Ä–∏–∂",
    "pers": "-",
    "testi": "Ivanov 229",
    "reale": false
  },
  {
    "x": 1898.0,
    "y": 1333.0,
    "luogo": "Pirenei / –ü–∏—Ä–µ–Ω–µ–∏",
    "pers": "-",
    "testi": "Ivanov 133",
    "reale": false
  },
  {
    "x": 1898.0,
    "y": 1333.0,
    "luogo": "Pirenei / –ü–∏—Ä–µ–Ω–µ–∏",
    "pers": "-",
    "testi": "Ivanov 137",
    "reale": false
  },
  {
    "x": 1898.0,
    "y": 1333.0,
    "luogo": "Pirenei / –ü–∏—Ä–µ–Ω–µ–∏",
    "pers": "-",
    "testi": "Ivanov 141",
    "reale": false
  },
  {
    "x": 2102.0,
    "y": 1419.0,
    "luogo": "Regni latini / –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞",
    "pers": "frati domenicani / –º–æ–Ω–∞—Ö–∏-–¥–æ–º–∏–Ω–∏–∫–∞–Ω—Ü—ã, frati francescani / —Ñ—Ä–∞–Ω—Ü–∏—Å–∫–∞–Ω—Ü—ã",
    "testi": "Ivanov 230",
    "reale": true
  },
  {
    "x": 2095.0,
    "y": 1428.0,
    "luogo": "Roma / –†–∏–º",
    "pers": "Alessandro VI / –ê–ª–µ–∫—Å–∞–Ω–¥—Ä VI",
    "testi": "Ivanov 229",
    "reale": false
  },
  {
    "x": 2095.0,
    "y": 1428.0,
    "luogo": "Roma / –†–∏–º",
    "pers": "-",
    "testi": "Ivanov 133",
    "reale": false
  },
  {
    "x": 2095.0,
    "y": 1428.0,
    "luogo": "Roma / –†–∏–º",
    "pers": "-",
    "testi": "Ivanov 137",
    "reale": false
  },
  {
    "x": 2095.0,
    "y": 1428.0,
    "luogo": "Roma / –†–∏–º",
    "pers": "-",
    "testi": "Ivanov 141",
    "reale": false
  },
  {
    "x": 1751.0,
    "y": 1320.0,
    "luogo": "Spagna / –ò—Å–ø–∞–Ω–∏—è",
    "pers": "Alessandro VI / –ê–ª–µ–∫—Å–∞–Ω–¥—Ä VI",
    "testi": "Ivanov 229",
    "reale": false
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "-",
    "testi": "Ivanov 152",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "Giorgio Mosco / ŒìŒµœéœÅŒ≥ŒπŒøœÇ ŒúœåœÉœáŒøœÇ / –ì–µ–æ—Ä–≥–∏–π –ú–æ—Å—Ö",
    "testi": "Ivanov 237",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "Giovanni Gregoropulo / ·º∏œâŒ¨ŒΩŒΩŒ∑œÇ ŒìœÅŒ∑Œ≥ŒøœÅœåœÄŒøœÖŒªŒøœÇ / –ò–æ–∞–Ω–Ω –ì—Ä–∏–≥–æ—Ä–æ–ø—É–ª–æ—Å, Aldo Manuzio / –ê–ª—å–¥ –ú–∞–Ω—É—Ü–∏–π, Aristobulo Apostolio / ·ºàœÅœÉŒ≠ŒΩŒπŒøœÇ ·ºàœÄŒøœÉœÑœåŒªŒπŒøœÇ / –ê—Ä–∏—Å—Ç–æ–≤—É–ª –ê–ø–æ—Å—Ç–æ–ª–∏—Å, Zaccaria Calliergi / ŒñŒ±œáŒ±œÅŒØŒ±œÇ ŒöŒ±ŒªŒªŒπŒ≠œÅŒ≥Œ∑œÇ / –ó–∞—Ö–∞—Ä–∏—è –ö–∞–ª–ª–∏–µ—Ä–≥–∏—Å, Francesco Roseto / –§—Ä–∞–Ω—á–µ—Å–∫–æ –†–æ—Å—Å–µ—Ç–æ, [un mercante di pelli / –∫–æ–∂–µ–≤–Ω–∏–∫]",
    "testi": "Ivanov 238",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "Marco Musuro / ŒúŒ¨œÅŒ∫ŒøœÇ ŒúŒøœÖœÉŒø·ø¶œÅŒøœÇ / –ú–∞—Ä–∫ –ú—É—Å—É—Ä–æ—Å, Giovanni Gregoropulo / ·º∏œâŒ¨ŒΩŒΩŒ∑œÇ ŒìœÅŒ∑Œ≥ŒøœÅœåœÄŒøœÖŒªŒøœÇ / –ò–æ–∞–Ω–Ω –ì—Ä–∏–≥–æ—Ä–æ–ø—É–ª–æ—Å, Nicola Vlasto / ŒùŒπŒ∫œåŒªŒ±ŒøœÇ ŒíŒªŒ±œÉœÑœåœÇ / –ù–∏–∫–æ–ª–∞–π –í–ª–∞—Å—Ç–æ—Å",
    "testi": "Ivanov 240",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "Aldo Manuzio / –ê–ª—å–¥ –ú–∞–Ω—É—Ü–∏–π",
    "testi": "Ivanov 362",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "Aldo Manuzio / –ê–ª—å–¥ –ú–∞–Ω—É—Ü–∏–π",
    "testi": "Ivanov 362",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "Aldo Manuzio / –ê–ª—å–¥ –ú–∞–Ω—É—Ü–∏–π",
    "testi": "[Ivanov 362-a]",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "Aldo Manuzio / –ê–ª—å–¥ –ú–∞–Ω—É—Ü–∏–π",
    "testi": "[Ivanov 362-a]",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "[un doge di Venezia / –¥o–∂ –í–µ–Ω–µ—Ü–∏–∏]",
    "testi": "Ivanov 182",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "-",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "-",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia / –í–µ–Ω–µ—Ü–∏—è",
    "pers": "Giano Lascaris / ·º∏Œ±ŒΩ·Ω∏œÇ ŒõŒ¨œÉŒ∫Œ±œÅŒπœÇ / –ò–æ–∞–Ω–Ω –õ–∞—Å–∫–∞—Ä–∏—Å (cfr. Romoli 2021: 162-171)",
    "testi": "-",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia, contrada Rialto in Panaria / –í–µ–Ω–µ—Ü–∏—è, —Ä–∞–π–æ–Ω –†–∏–∞–ª—å—Ç–æ-–∏–Ω-–ü–∞–Ω–∞—Ä–∏–∞",
    "pers": "-",
    "testi": "Ivanov 236",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia, botteghe di panni (contrada Rialto in Panaria) / –í–µ–Ω–µ—Ü–∏—è, –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ —Ç–∫–∞–Ω–∏ (—Ä–∞–π–æ–Ω –†–∏–∞–ª—å—Ç–æ-–∏–Ω-–ü–∞–Ω–∞—Ä–∏–∞)",
    "pers": "-",
    "testi": "Ivanov 236",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia, bottega di panni al segno del bue (contrada Rialto in Panaria) / –í–µ–Ω–µ—Ü–∏—è, –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è —Ç–∫–∞–Ω–∏ –ø–æ–¥ –∑–Ω–∞–∫–æ–º –±—ã–∫–∞ (—Ä–∞–π–æ–Ω –†–∏–∞–ª—å—Ç–æ-–∏–Ω-–ü–∞–Ω–∞—Ä–∏–∞)",
    "pers": "Girolamo Pichi / –ò–µ—Ä–æ–Ω–∏–º –ü–∏–∫–∏",
    "testi": "Ivanov 236",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia, casa di Aldo Manuzio (dal 1489 al 1505: contrada Sant'Agostin, rio Ter√† San Secondo, angolo con la calle del Pistor di Sant'Agostin) / –í–µ–Ω–µ—Ü–∏—è, –¥–æ–º –ê–ª—å–¥–∞ –ú–∞–Ω—É—Ü–∏—è (–æ—Ç 1489 –ø–æ 1505: —Ä–∞–π–æ–Ω –°–∞–Ω—Ç-–ê–≥–æ—Å—Ç–∏–Ω, —Ä–∏–æ –¢–µ—Ä–∞ –°–∞–Ω –°–µ–∫–æ–Ω–¥–æ, —É–≥–æ–ª —Å —É–ª–∏—Ü–µ–π –ü–∏—Å—Ç–æ—Ä –¥–∏ –°–∞–Ω—Ç-–ê–≥–æ—Å—Ç–∏–Ω)",
    "pers": "Aldo Manuzio / –ê–ª—å–¥ –ú–∞–Ω—É—Ü–∏–π, Giovanni Gregoropulo / ·º∏œâŒ¨ŒΩŒΩŒ∑œÇ ŒìœÅŒ∑Œ≥ŒøœÅœåœÄŒøœÖŒªŒøœÇ / –ò–æ–∞–Ω–Ω –ì—Ä–∏–≥–æ—Ä–æ–ø—É–ª–æ—Å",
    "testi": "Ivanov 237",
    "reale": true
  },
  {
    "x": 2092.0,
    "y": 1384.0,
    "luogo": "Venezia, stamperia di Aldo Manuzio (dal 1489 al 1505: contrada Sant'Agostin, rio Ter√† San Secondo, angolo con la calle del Pistor di Sant'Agostin, casa di Aldo Manunzio) / –í–µ–Ω–µ—Ü–∏—è, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏—è –ê–ª—å–¥–∞ –ú–∞–Ω—É—Ü–∏—è (–æ—Ç 1489 –ø–æ 1505: —Ä–∞–π–æ–Ω –°–∞–Ω—Ç-–ê–≥–æ—Å—Ç–∏–Ω, —Ä–∏–æ –¢–µ—Ä–∞ –°–∞–Ω –°–µ–∫–æ–Ω–¥–æ, —É–≥–æ–ª —Å —É–ª–∏—Ü–µ–π –ü–∏—Å—Ç–æ—Ä –¥–∏ –°–∞–Ω—Ç-–ê–≥–æ—Å—Ç–∏–Ω)",
    "pers": "Aldo Manuzio / –ê–ª—å–¥ –ú–∞–Ω—É—Ü–∏–π, Scipione Forteguerri, Carteromaco / –°—Ü–∏–ø–∏–æ–Ω –ö–∞—Ä—Ç–µ—Ä–æ–º–∞—Ö",
    "testi": "Ivanov 240",
    "reale": true
  },
  {
    "x": 2045.0,
    "y": 1372.0,
    "luogo": "Vercelli / –í–µ—Ä—á–µ–ª–ª–∏",
    "pers": "Niccol√≤ di Tarso / –ù–∏–∫–æ–ª–∞–π –¢–∞—Ä—Å—Å–∫–∏–π, Ludovico Tizzoni / –õ—É–¥–æ–≤–∏–∫–æ –¢–∏—Ü—Ü–æ–Ω–∏",
    "testi": "Ivanov 235",
    "reale": true
  },
  {
    "x": 2045.0,
    "y": 1372.0,
    "luogo": "Vercelli / –í–µ—Ä—á–µ–ª–ª–∏",
    "pers": "-",
    "testi": "Ivanov 236",
    "reale": true
  },
  {
    "x": 2045.0,
    "y": 1372.0,
    "luogo": "Vercelli / –í–µ—Ä—á–µ–ª–ª–∏",
    "pers": "-",
    "testi": "Ivanov 236",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "accademie italiane / –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –∞–∫–∞–¥–µ–º–∏–∏",
    "pers": "-",
    "testi": "Ivanov 133",
    "reale": true
  },
  {
    "x": 2078.0,
    "y": 1391.0,
    "luogo": "accademie italiane / –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –∞–∫–∞–¥–µ–º–∏–∏",
    "pers": "-",
    "testi": "Ivanov 134",
    "reale": true
  },
  {
    "x": 2089.0,
    "y": 1390.0,
    "luogo": "accademie italiane / –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –∞–∫–∞–¥–µ–º–∏–∏",
    "pers": "-",
    "testi": "Ivanov 135",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1379.0,
    "luogo": "accademie italiane / –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –∞–∫–∞–¥–µ–º–∏–∏",
    "pers": "-",
    "testi": "Ivanov 136",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1402.0,
    "luogo": "accademie italiane / –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –∞–∫–∞–¥–µ–º–∏–∏",
    "pers": "-",
    "testi": "Ivanov 153",
    "reale": true
  },
  {
    "x": 2078.0,
    "y": 1391.0,
    "luogo": "accademie italiane / –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –∞–∫–∞–¥–µ–º–∏–∏",
    "pers": "-",
    "testi": "Ivanov 154",
    "reale": true
  },
  {
    "x": 2089.0,
    "y": 1390.0,
    "luogo": "accademie italiane / –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –∞–∫–∞–¥–µ–º–∏–∏",
    "pers": "-",
    "testi": "Ivanov 155",
    "reale": true
  },
  {
    "x": 2076.0,
    "y": 1379.0,
    "luogo": "accademie italiane / –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –∞–∫–∞–¥–µ–º–∏–∏",
    "pers": "-",
    "testi": "Ivanov 156",
    "reale": true
  }
];

// --------- FUNZIONI DI SUPPORTO ---------

// pulisce stringa tipo "[Ivanov 152-a]" -> "Ivanov 152-a"
function cleanBracket(str) {
  if (!str) return "";
  return str.trim().replace(/^\[/, "").replace(/\]$/, "");
}

// per sicurezza (se hai nomi strani) ‚Äì semplice escape base
function escapeHtml(str) {
  if (!str) return "";
  return str
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;");
}

// --------- RAGGRUPPA PER LUOGO+COORDINATE ---------
let grouped = {};

punti.forEach(p => {
  // solo reale = true
  const reale = (p.reale === true || p.reale === "true");
  if (!reale) return;

  const key = `${p.x}-${p.y}-${p.luogo}`;

  if (!grouped[key]) {
    grouped[key] = {
      x: p.x,
      y: p.y,
      luogo: p.luogo,
      // Map: chiave normalizzata -> stringa pulita da mostrare
      personeMap: new Map(),
      testiMap: new Map()
    };
  }

  // persone
  if (p.pers && p.pers.trim() !== "-" && p.pers.trim() !== "") {
    const cleaned = cleanBracket(p.pers);
    const normKey = cleaned.toLowerCase(); // normalizzazione per unire grafie simili
    if (!grouped[key].personeMap.has(normKey)) {
      grouped[key].personeMap.set(normKey, cleaned);
    }
  }

  // testi
  if (p.testi && p.testi.trim() !== "-" && p.testi.trim() !== "") {
    const cleanedT = cleanBracket(p.testi);
    // unire "ivanov 152" e "ivanov 152." ecc, se vuoi puoi fare altre normalizzazioni
    const normTextKey = cleanedT.toLowerCase();
    if (!grouped[key].testiMap.has(normTextKey)) {
      grouped[key].testiMap.set(normTextKey, cleanedT);
    }
  }
});

// --------- CREA MARKER CLUSTER ---------
var markers = L.markerClusterGroup();
let accordionIdCounter = 0;

Object.values(grouped).forEach(p => {
  const personeArr = Array.from(p.personeMap.values()).sort((a, b) => a.localeCompare(b));
  const testiArr   = Array.from(p.testiMap.values()).sort((a, b) => a.localeCompare(b));

  const personeCount = personeArr.length;
  const testiCount   = testiArr.length;

  // --- costruiamo HTML per persone (accordion solo se > 3) ---
  let personeHtml;
  if (personeCount === 0) {
    personeHtml = "-";
  } else if (personeCount <= 3) {
    // semplice lista
    personeHtml = personeArr.map(txt => `<div>${escapeHtml(txt)}</div>`).join("");
  } else {
    const accId = `acc-pers-${accordionIdCounter++}`;
    const collapseId = `${accId}-body`;
    personeHtml = `
      <div class="accordion accordion-flush" id="${accId}">
        <div class="accordion-item">
          <h2 class="accordion-header" id="${accId}-header">
            <button class="accordion-button collapsed py-1 px-2 bg-warning-subtle" type="button"
                    data-bs-toggle="collapse" data-bs-target="#${collapseId}"
                    aria-expanded="false" aria-controls="${collapseId}">
              Persone <span class="badge bg-warning text-dark ms-2">${personeCount}</span>
            </button>
          </h2>
          <div id="${collapseId}" class="accordion-collapse collapse"
               data-bs-parent="#${accId}">
            <div class="accordion-body p-2" style="max-height:150px; overflow-y:auto;">
              ${personeArr.map(txt => `<div>${escapeHtml(txt)}</div>`).join("")}
            </div>
          </div>
        </div>
      </div>`;
  }

  // --- HTML per testi (accordion solo se > 3) ---
  let testiHtml;
  if (testiCount === 0) {
    testiHtml = "-";
  } else if (testiCount <= 3) {
    testiHtml = testiArr.map(txt => `<div>${escapeHtml(txt)}</div>`).join("");
  } else {
    const accId = `acc-test-${accordionIdCounter++}`;
    const collapseId = `${accId}-body`;
    testiHtml = `
      <div class="accordion accordion-flush" id="${accId}">
        <div class="accordion-item">
          <h2 class="accordion-header" id="${accId}-header">
            <button class="accordion-button collapsed py-1 px-2 bg-primary-subtle" type="button"
                    data-bs-toggle="collapse" data-bs-target="#${collapseId}"
                    aria-expanded="false" aria-controls="${collapseId}">
              Testi <span class="badge bg-primary ms-2">${testiCount}</span>
            </button>
          </h2>
          <div id="${collapseId}" class="accordion-collapse collapse"
               data-bs-parent="#${accId}">
            <div class="accordion-body p-2" style="max-height:150px; overflow-y:auto;">
              ${testiArr.map(txt => `<div>${escapeHtml(txt)}</div>`).join("")}
            </div>
          </div>
        </div>
      </div>`;
  }

  // --- POPUP COMPLETO ---
  const popup_html = `
    <div style="
      font-family: Arial, sans-serif;
      font-size: 13px;
      line-height: 1.4;
      padding: 6px 8px;
      border-radius: 8px;
      background: #f9f9f9;
      border: 1px solid #ddd;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
      max-width: 320px;
    ">
      <div style="margin-bottom: 6px;">
        <b style="color: #0056b3;">üìç Luogo:</b> ${escapeHtml(p.luogo)}
      </div>
      <div style="margin-bottom: 6px;">
        <b style="color: #b35c00;">üë• Persone/Eventi:</b><br>
        ${personeHtml}
      </div>
      <div>
        <b style="color: #2e8b57;">üìö Testi:</b><br>
        ${testiHtml}
      </div>
    </div>`;

  var marker = L.marker([-p.y / scale, p.x / scale], { icon: redIcon })
                .bindPopup(popup_html);

  markers.addLayer(marker);
});

mapStorica.addLayer(markers);
</script>
</body>
</html>
